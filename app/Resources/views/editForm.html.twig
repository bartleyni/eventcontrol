{% extends 'SummerBallBathSU.html.twig' %}
{% block headerbottom %}
<h2>Control Room Log</h2>
{% endblock %}
{% block layout %}
    {% embed '3-9.html.twig' %}
        {% block content %}
            <div class="wrapper">
                <div class="row">
                    <div class="col-md-12">
                        <h4>Log Entry Form</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        {{ form_start(log_entry) }}
                            {{ form_errors(log_entry) }}
                            {{ form_widget(log_entry.reset) }}
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        {{ form_label(log_entry.operator) }} 
                                        {{ form_errors(log_entry.operator) }}
                                        {{ form_widget(log_entry.operator) }}
                                    </div>
                                </div>
                                <div class="col-md-6">    
                                    <div class="form-group">
                                        {{ form_label(log_entry.log_entry_open_time) }}
                                        {{ form_errors(log_entry.log_entry_open_time) }}
                                        <div class='input-group date' id='datetimepicker1'>
                                            {{ form_widget(log_entry.log_entry_open_time) }}
                                            <span class="input-group-addon">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </span>
                                        </div>
                                    </div>         
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">  
                                    <div class="form-group">
                                        {{ form_label(log_entry.log_blurb) }}
                                        {{ form_errors(log_entry.log_blurb) }}
                                        {{ form_widget(log_entry.log_blurb) }}
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">  
                                    <div class="form-group">
                                    {{ form_label(log_entry.location) }}
                                    {{ form_errors(log_entry.location) }}
                                    {{ form_widget(log_entry.location) }}
                                    </div>
                                </div>
                                <div class="col-md-6">  
                                    <div class="form-group">
                                        {{ form_label(log_entry.reported_by) }}
                                        {{ form_errors(log_entry.reported_by) }}
                                        {{ form_widget(log_entry.reported_by) }}
                                    </div>
                                </div>
                            </div>
                            <div id="submit_button">
                                {{ form_widget(log_entry.submit) }} <br>
                                {{ form_end(log_entry) }}
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-3">
                                    {% if generalTab is null %}
                                        <button type="button" id="general_button" class="btn btn-info-outline btn-block">
                                    {% else %}
                                        <button type="button" id="general_button" class="btn btn-info btn-block">
                                    {% endif %}
                                        General
                                    </button>
                                </div>
                                <div class="col-md-3"> 
                                    {% if medicalTab is null %}                                      
                                        <button type="button" id="medical_button" class="btn btn-info-outline btn-block">
                                    {% else %}
                                        <button type="button" id="medical_button" class="btn btn-info btn-block">
                                    {% endif %}    
                                        Medical
                                    </button>
                                </div>
                                <div class="col-md-3">
                                    {% if securityTab is null %}
                                        <button type="button" id="security_button" class="btn btn-info-outline btn-block">
                                    {% else %}
                                        <button type="button" id="security_button" class="btn btn-info btn-block">
                                    {% endif %}    
                                        Security
                                    </button>
                                </div>
                                <div class="col-md-3">
                                    {% if lostTab is null %}
                                        <button type="button" id="lost_button" class="btn btn-info-outline btn-block">
                                    {% else %}    
                                        <button type="button" id="lost_button" class="btn btn-info btn-block">
                                    {% endif %}
                                        Lost Property
                                    </button>
                                </div>
                            </div>
                            <div class="row" id="General">
                                <div class="col-md-12">
                                    {% block general %}
                                        {% include 'generalForm.twig' %}
                                    {% endblock %}
                                </div>
                            </div>
                            <div class="row" id="Medical">
                                <div class="col-md-12">
                                    {% block medical %}
                                        {% include 'medicalForm.twig' %}
                                    {% endblock %}
                                </div>
                            </div>
                            <div class="row" id="Security">
                                <div class="col-md-12">
                                    {% block security %}
                                        {% include 'securityForm.twig' %}
                                    {% endblock %}
                                </div>
                            </div>
                            <div class="row" id="Lost">
                                <div class="col-md-12">
                                    {% block lostProperty %}
                                        {% include 'lostPropertyForm.twig' %}
                                    {% endblock %}
                                </div>
                            </div>                                
                    </div>
                </div>
            </div>
        {% endblock %}
        {% block sidebar %}
            {% include 'sidebar.twig' %}
        {% endblock %}
    {% endembed %}
{% endblock %}
{% block scripts %}
    <script type="text/javascript">
        $(document).ready(function() {
            $('#General').hide();
            $('#Medical').hide();
            $('#Security').hide();
            $('#Lost').hide();
        });
        $(function () {
            $('#datetimepicker1').datetimepicker({
                useCurrent: true,
                format: 'YYYY-MM-DD HH:mm:ss',
                showTodayButton: true
            });
        });
        $('#general_button').click(function(){
            $('#General').show(200);
            $('#Medical').hide(100);
            $('#Security').hide(100);
            $('#Lost').hide(100);
            $('#submit_button').hide();
        });
        $('#medical_button').click(function(){
            $('#Medical').show(200);
            $('#General').hide(100);
            $('#Security').hide(100);
            $('#Lost').hide(100);
            $('#submit_button').hide();
        });
        $('#security_button').click(function(){
            $('#Security').show(200);
            $('#Medical').hide(100);
            $('#General').hide(100);
            $('#Lost').hide(100);
            $('#submit_button').hide();
        });
        $('#lost_button').click(function(){
            $('#Lost').show(500);
            $('#Medical').hide(250);
            $('#Security').hide(250);
            $('#General').hide(250);
            $('#submit_button').hide();
        });
        $('#general_close_button').click(function(){
            $('#General').hide(100);
            $('#submit_button').show();
        }); 
        $('#security_close_button').click(function(){
            $('#Security').hide(100);
            $('#submit_button').show();
        }); 
        $('#medical_close_button').click(function(){
            $('#Medical').hide(100);
            $('#submit_button').show();
        }); 
        $('#lost_close_button').click(function(){
            $('#Lost').hide(100);
            $('#submit_button').show();
        });
        function timestampFunction(e,i) {
            if(e.keycode == 13){
                var d = new Date();
                var text = $(i).val();
                $(i).val(text + d.toLocalString());
            }
        }
    </script>        
{% endblock %}
