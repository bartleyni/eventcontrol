{% extends 'CtrLogBase.html.twig' %}

{% block title 'Event Control' %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('assets/vendor/bootstrap/dist/css/bootstrap.min.css') }}">
<link rel="stylesheet" href="{{ asset('assets/vendor/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css') }}" />
<style>
.severity1 {
    background-color: #E50D00;
    color: #FFFFFF;
}
.severity2 {
    background-color: #DF7200;
    color: #FFFFFF;
}
.severity3 {
    background-color: #D9D100;
    color: #FFFFFF;
}
.severity4 {
    background-color: #7CD300;
    color: #FFFFFF;
}
.severity5 {
    background-color: #1CCE00;
    color: #FFFFFF;
}
/* Modification to bootstrap css */
.page-header {
    padding-bottom: 0px;
    margin: 0px 0px 0px 0px;
    border-bottom: 1px solid #eee;
    position: fixed;
    right: 0;
    left: 0;
    top: 0;
    border-width: 0 0 1px;
    z-index: 1030;
    padding-right: 20px;
    padding-left: 15px;
    max-height: 220px;
}

</style>
{% endblock %}

{% block headertop %}
    Event Control
{% endblock %}

{% block hiddenheadertop %}
    <div class="container-fluid">
        <div class="col-md-6">
            <h1> Event Control</h1>
        </div>
        <div class="col-md-6">
            {% if app.user %}
                <h1>
                    <div id="HeaderClock">
                    </div>
                </h1>
            {% endif %}
        </div>
    </div>
{% endblock %}


{% block javascripts %}
    <script type="text/javascript" src="{{ asset('assets/vendor/jquery/dist/jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('assets/vendor/moment/min/moment.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('assets/vendor/bootstrap/dist/js/bootstrap.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('assets/vendor/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js') }}"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min.js"></script>
    <script type="text/javascript">
        function updateClock ( )
            {
            var currentTime = new Date ( );
            var currentHours = currentTime.getHours ( );
            var currentMinutes = currentTime.getMinutes ( );
            var currentSeconds = currentTime.getSeconds ( );

            // Pad the minutes and seconds with leading zeros, if required
            currentMinutes = ( currentMinutes < 10 ? "0" : "" ) + currentMinutes;
            currentSeconds = ( currentSeconds < 10 ? "0" : "" ) + currentSeconds;

            // Choose either "AM" or "PM" as appropriate
            var timeOfDay = ( currentHours < 12 ) ? "AM" : "PM";

            // Convert the hours component to 12-hour format if needed
            currentHours = ( currentHours > 12 ) ? currentHours - 12 : currentHours;

            // Convert an hours component of "0" to "12"
            currentHours = ( currentHours == 0 ) ? 12 : currentHours;

            // Compose the string for display
            //var currentTimeString = currentHours + ":" + currentMinutes + ":" + currentSeconds + " " + timeOfDay;
            var currentTimeString = currentTime.toLocaleString('en-GB');

            $("#HeaderClock").html(currentTimeString);

        }
        $(document).ready(function()
        {
            updateClock();
            setInterval('updateClock()', 1000);
            
           
        });
        
        function resizeHeader() {
            $(".page-header-push").height($(".page-header").height()+5);
        }
        $(document).ready(resizeHeader);
        $(window).resize(resizeHeader);
        
        $(document).ready(function()
        {
            Mousetrap.bind('ctrl+l', function(e) {
                   e.preventDefault();
                   window.location.href = "{{ path('new_entry') }}";
            });
        });
    </script>
{% endblock %}